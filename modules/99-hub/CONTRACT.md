# 接口契约状态（99-hub）

> 目的：给各模块一个“当前契约推进到哪了”的单点入口，减少口头对齐成本。

## 1) 契约形式（待确认）

- 候选：OpenAPI 3.1（YAML/JSON）作为接口契约单一来源
- 说明：数据模型可复用 JSON Schema（OAS 3.1 原生支持），便于前后端/Mock/校验工具共用
- 需要决定：
  - 契约仓库路径（建议独立目录，避免分散到各模块）
  - 发布/消费方式（miniapp mock、后端路由、导入任务状态接口等）

## 2) 统一返回结构（待起草）

- 成功返回：`{ data, meta? }`（占位）
- 错误返回：`{ error: { code, message, details? }, requestId? }`（占位）

## 3) 鉴权（待起草）

- 登录：`POST /auth/wechat`（code → session/token）
- token 刷新策略：待决定

## 4) 题目通用数据结构（待起草）

- 题型、选项、答案、解析、素材（图片/音频/富文本）统一字段：待 99-hub 汇总后落地

## 5) 错误码与返回结构（草案）

- 见 modules/99-hub/ERRORS.md`n
