<view class="page">
  <view class="seg">
    <view
      class="seg-item {{stage === item ? 'active' : ''}}"
      wx:for="{{stageList}}"
      wx:key="*this"
      data-stage="{{item}}"
      bindtap="switchStage"
    >
      {{item}}
    </view>
  </view>

  <view class="banner" style="margin-top: 16rpx;">
    <view class="banner-title">课程精选</view>
    <view class="banner-desc">点击进入播放页，支持续播与 SVIP 提示（Mock）</view>
  </view>

  <view class="block" wx:if="{{stage === '初中'}}">
    <view class="block-title">初中</view>

    <view class="chips">
      <view
        class="chip {{grade === item ? 'active' : ''}}"
        wx:for="{{gradeList}}"
        wx:key="*this"
        data-value="{{item}}"
        bindtap="selectGrade"
      >
        {{item}}
      </view>
    </view>

    <view class="chips">
      <view
        class="chip {{semester === item ? 'active' : ''}}"
        wx:for="{{semesterList}}"
        wx:key="*this"
        data-value="{{item}}"
        bindtap="selectSemester"
      >
        {{item}}
      </view>
    </view>

    <view class="chips">
      <view
        class="chip {{subject === item ? 'active' : ''}}"
        wx:for="{{subjectList}}"
        wx:key="*this"
        data-value="{{item}}"
        bindtap="selectSubject"
      >
        {{item}}
      </view>
    </view>
  </view>

  <view class="block" wx:else>
    <view class="block-title">单招</view>

    <view class="chips">
      <view
        class="chip {{singleSubject === item ? 'active' : ''}}"
        wx:for="{{singleSubjectList}}"
        wx:key="*this"
        data-value="{{item}}"
        bindtap="selectSingleSubject"
      >
        {{item}}
      </view>
    </view>

    <view class="chips">
      <view
        class="chip {{singleType === item ? 'active' : ''}}"
        wx:for="{{singleTypeList}}"
        wx:key="*this"
        data-value="{{item}}"
        bindtap="selectSingleType"
      >
        {{item}}
      </view>
    </view>
  </view>

  <view class="section-title">课程列表（Mock）</view>

  <view class="list">
    <view class="card" wx:for="{{courseList}}" wx:key="id" data-id="{{item.id}}" bindtap="goPlay">
      <image class="cover" src="{{item.cover}}" mode="aspectFill"></image>
      <view class="body">
        <view class="title">{{item.title}}</view>
        <view class="desc">{{item.desc}}</view>
        <view class="meta-row">
          <view class="meta">时长：{{item.durationText}}</view>
          <view class="badge" wx:if="{{item.progressSeconds}}">已学 {{item.progressText}}</view>
          <view class="badge ghost" wx:else>未开始</view>
        </view>
      </view>
    </view>
  </view>
</view>
