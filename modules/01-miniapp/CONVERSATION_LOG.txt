模块：01-miniapp
窗口负责人：
开始时间：

【记录规则】
1) 只记录与本模块有关的对话与决定（不要粘贴敏感信息：账号/密码/密钥）。
2) 每次对话后追加一段，格式如下。

--- 2026-01-20 12:00 ---
用户：
助手：
决定/结论：
下一步：

--- 2026-01-21 01:12 ---
用户：按本模块 `AUTOPILOT.md` 从 M1 开始连续做到完成；每完成一个里程碑 commit+push，并在本模块日志写验收路径。
助手：切到 `feat/01-miniapp-autopilot-winE3`（基于 `origin/main`）并按 M1 完成底部导航 + 三大主页面骨架：新增“课程”Tab 与课程页（Mock 列表），并提供播放页占位（用于后续 M3 续播）。
验收路径：微信开发者工具导入 `modules/01-miniapp/miniprogram` → `pages/start/index` 点击“立即进入” → 底部 Tab 依次进入：`pages/index/index`、`pages/library/index`、`pages/course/index`、`pages/my/index`；课程页点任意卡片进入 `pages/course/player`。
证据：`modules/01-miniapp/_evidence/M1/README.md`（记录人工验收路径；MCP 自动化未接入）。

--- 2026-01-21 01:18 ---
用户：按 `AUTOPILOT.md` 继续。
助手：完成 M2 题库页信息结构（Mock）：在 `pages/library/index` 支持切换 `初中/单招`，并按年级/册别/科目（初中）或科目/题型（单招）生成单元列表；点击单元进入占位页 `pages/library/unit/index`，展示路径并提供“同步试题(预览)/在线做题(练习/测评)”按钮（提示后置）。
验收路径：底部 Tab → 题库 `pages/library/index` → 切换 `初中/单招` 与筛选项 → 点击任意单元卡片进入 `pages/library/unit/index`。
证据：`modules/01-miniapp/_evidence/M2/README.md`。

--- 2026-01-21 01:32 ---
用户：按 `AUTOPILOT.md` 继续。
助手：完成 M3 课程播放页续播记录（Mock）：播放页以 `wx.setStorageSync('course_progress_<id>')` 记录当前进度（通过“模拟播放 +10s”和滑块模拟），再次进入同一课程时弹窗提示并可选择“继续/重新开始”。
验收路径：底部 Tab → 课程 `pages/course/index` → 点击任意课程进入 `pages/course/player?id=<id>` → 调整进度（按钮/滑块）→ 返回课程列表 → 再次进入同一课程，验证续播弹窗与恢复/重置。
证据：`modules/01-miniapp/_evidence/M3/README.md`。

--- 2026-01-21 01:45 ---
用户：按 `AUTOPILOT.md` 继续。
助手：完成 M4 SVIP 绑定（UI + 本地验证占位）：新增 `pages/svip/bind/index`，支持输入码校验（Mock 正确码 `JLXB-SVIP-OK`）并写入本地状态；我的页新增“SVIP 权益”卡片与“SVIP码绑定”入口；课程播放页增加“未开通提示（paywall 文案）”占位并提供跳转入口。
验收路径：我的 `pages/my/index` → 点击“SVIP 权益/去绑定”或“SVIP码绑定” → `pages/svip/bind/index` → 输入错误码提示无效 → 输入 `JLXB-SVIP-OK` 提示绑定成功并显示状态；未绑定时进入 `pages/course/player?id=<id>` 可看到“SVIP 未开通（占位）”文案与入口。
证据：`modules/01-miniapp/_evidence/M4/README.md`。

--- 2026-01-21 01:58 ---
用户：按 `AUTOPILOT.md` 继续。
助手：完成 M5 视觉统一小改（以可演示为主）：全局统一浅灰背景；抽出通用 banner 样式，并在题库/课程页补齐顶部 banner，提高信息密度与展示效果。
验收路径：`pages/start/index` → 立即进入 → 首页 `pages/index/index` → 题库 `pages/library/index`（banner+筛选+卡片）→ 课程 `pages/course/index`（banner+卡片）→ 我的 `pages/my/index`（SVIP 权益卡片）。
证据：`modules/01-miniapp/_evidence/M5/README.md`。

--- 2026-01-21 02:24 ---
用户：继续。
助手：按 `TASKS.md` 推进 MVP：考试模式在 Mock 下完整走通（随机抽题 + 倒计时 + 交卷到结果页），并扩充 mock 题目以满足题量抽取；同时在 `USE_MOCK` 下放宽考试入口的登录限制，方便演示。
验收路径：`pages/start/index` → 立即进入 → 首页点“答题”进入 `pages/exam-menu/index` → 选择任意题库进入 `pages/exam/index` → 作答若干题 → 点击右上角“交卷”确认 → 跳转 `pages/examResult/index` 展示得分/用时/错题入口。
下一步：如需合并请求记录，请由 99-hub 窗口将分支 `feat/01-miniapp-mvp-exam-winE3` 的 MR 需求写入 `modules/99-hub/REQUESTS.md`（本窗口只改本模块目录）。

--- 2026-01-21 03:06 ---
用户：继续。
助手：按 `TASKS.md` 推进 MVP：错题本地存储与回看链路可用；修复错题页在 storage 为空/非数组时的兼容性，保证空态与列表渲染稳定。
验收路径：`pages/start/index` → 立即进入 → 底部题库 `pages/library/index` → 任意单元进入 `pages/library/unit/index` → 在线做题选择“练习/测评”进入做题页 → 故意答错 1 题（触发写入 `err_<cateid>` 与 `menuStorageList`）→ 首页点击“错题”进入 `pages/wrong/index` → 选择对应条目进入 `pages/errorStar/index` 回看错题并查看帮助/解析。
下一步：如需合并请求记录，请由 99-hub 窗口将分支 `feat/01-miniapp-mvp-wrong-winE3` 的 MR 需求写入 `modules/99-hub/REQUESTS.md`（本窗口只改本模块目录）。

